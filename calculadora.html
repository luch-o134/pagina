<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculadora</title>
    <link rel="stylesheet" href="calculadora.css">
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
</head>
<body>
    <div class="menu_izquierda" id="menuIzquierda">
    <button id="toggleMenu" class="menu-toggle">&#9776; Men√∫</button>
    <div id="menuBotones">
        <button onclick="window.location.href='index.html'"><i class="fa-solid fa-house"></i> Home</button>
        <button onclick="window.location.href='calculadora.html'"><i class="fa-solid fa-calculator"></i> Calculadora</button>
        <button><i class="fa-solid fa-money-bill"></i> Conversor de Unidades</button>
        <button><i class="fa-solid fa-chart-gantt"></i> Contador de palabras/caracteres</button>
        <button><i class="fa-solid fa-stopwatch"></i> Cronometro</button>
    </div>
</div>

    <div class="calculadora">
    <input type="text" id="pantalla" readonly>
    <div id="historial" style="width:90%; min-height:60px; background:#181718; color:#fff; border-radius:8px; margin-bottom:16px; padding:10px; font-size:16px; overflow-y:auto;"></div>
    <div class="botones-calc">
        <button onclick="agregar('7')">7</button>
        <button onclick="agregar('8')">8</button>
        <button onclick="agregar('9')">9</button>
        <button onclick="agregar('/')">/</button>
        <button onclick="agregar('4')">4</button>
        <button onclick="agregar('5')">5</button>
        <button onclick="agregar('6')">6</button>
        <button onclick="agregar('*')">*</button>
        <button onclick="agregar('1')">1</button>
        <button onclick="agregar('2')">2</button>
        <button onclick="agregar('3')">3</button>
        <button onclick="agregar('-')">-</button>
        <button onclick="limpiar()">C</button>
        <button onclick="agregar('0')">0</button>
        <button onclick="calcular()">=</button>
        <button onclick="agregar('+')">+</button>
    </div>
</div>

<script>
let pantalla = document.getElementById('pantalla');
let historialDiv = document.getElementById('historial');
let historial = [];

function agregar(valor) {
    pantalla.value += valor;
}

function limpiar() {
    pantalla.value = '';
}

function calcular() {
    try {
        let expresion = pantalla.value;
        let resultado = eval(expresion);
        pantalla.value = resultado;
        agregarHistorial(expresion + " = " + resultado);
    } catch {
        pantalla.value = 'Error';
    }
}

function agregarHistorial(texto) {
    historial.push(texto);
    historialDiv.innerHTML = historial.slice(-10).map(item => `<div>${item}</div>`).join('');
}

document.addEventListener('keydown', function(event) {
    const tecla = event.key;
    if (/[0-9+\-*/]/.test(tecla)) {
        agregar(tecla);
    } else if (tecla === 'Enter') {
        calcular();
    } else if (tecla === 'c' || tecla === 'C') {
        limpiar();
    } else if (tecla === 'Backspace') {
        pantalla.value = pantalla.value.slice(0, -1);
    }
});

document.getElementById('toggleMenu').onclick = function() {
    document.getElementById('menuIzquierda').classList.toggle('open');
};
</script>
</body>
</html>